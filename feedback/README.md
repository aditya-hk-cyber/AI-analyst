# Feedback Directory

This directory stores feedback reports generated by the MCP server about the knowledge base effectiveness.

## Purpose

The `generate_feedback` prompt instructs the LLM to create detailed feedback after answering questions, including:

- Knowledge availability assessment
- Quality and consistency evaluation
- Identification of gaps and missing information
- Specific suggestions for knowledge base improvements
- Effectiveness ratings

## Usage

After answering a question using the MCP server, use the `generate_feedback` prompt:

```
generate_feedback("What was the total watch time last week?")
```

This will create a timestamped markdown file with comprehensive feedback about the knowledge base.

## Feedback Files

Feedback files are automatically named with timestamps: `feedback_YYYYMMDD_HHMMSS.md`

These files are gitignored by default to avoid cluttering the repository.

## Feedback Agent

The feedback agent analyzes all feedback files in this directory and generates consolidated actionable improvements for the knowledge base.

### Running the Feedback Agent

```bash
# Run directly
python3 src/insights_mcp/feedback_agent.py

# Or if installed as a package
insights-mcp-feedback-agent
```

### How It Works

1. **Processes each feedback file** - Reads all feedback files (excluding README.md and consolidated_actionables.md)
2. **Analyzes feedback** - Identifies actionable items by category:
   - **Catalog**: Table, schema, or column-related improvements
   - **Domain**: Business context and terminology improvements
   - **Metrics**: Metric definition and calculation improvements
   - **Examples**: Query example and template improvements
   - **General**: Other identified gaps
3. **Generates actionables** - Creates specific, actionable items for each feedback file
4. **Consolidates** - Merges similar actionables from multiple files and removes duplicates
5. **Generates report** - Creates `consolidated_actionables.md` with all improvements organized by category

### Output

The agent generates `consolidated_actionables.md` which contains:
- All actionable items organized by category
- Source feedback file(s) for each actionable
- Priority levels (for items mentioned in multiple files)
- Detailed context from the original feedback

Use this report to systematically improve the knowledge base in `knowledge/` directory.


